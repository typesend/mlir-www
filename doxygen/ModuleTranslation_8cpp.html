<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Target/LLVMIR/ModuleTranslation.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_12a96bdcc885ecacc799866a8efa56d5.html">LLVMIR</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ModuleTranslation.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ModuleTranslation_8h_source.html">mlir/Target/LLVMIR/ModuleTranslation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AttrKindDetail_8h_source.html">AttrKindDetail.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DebugTranslation_8h_source.html">DebugTranslation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LoopAnnotationTranslation_8h_source.html">LoopAnnotationTranslation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DLTI_8h_source.html">mlir/Dialect/DLTI/DLTI.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMDialect_8h_source.html">mlir/Dialect/LLVMIR/LLVMDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMInterfaces_8h_source.html">mlir/Dialect/LLVMIR/LLVMInterfaces.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LegalizeForExport_8h_source.html">mlir/Dialect/LLVMIR/Transforms/LegalizeForExport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OpenMPDialect_8h_source.html">mlir/Dialect/OpenMP/OpenMPDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OpenMPInterfaces_8h_source.html">mlir/Dialect/OpenMP/OpenMPInterfaces.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Attributes_8h_source.html">mlir/IR/Attributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BuiltinOps_8h_source.html">mlir/IR/BuiltinOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2IR_2BuiltinTypes_8h_source.html">mlir/IR/BuiltinTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RegionGraphTraits_8h_source.html">mlir/IR/RegionGraphTraits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2Support_2LLVM_8h_source.html">mlir/Support/LLVM.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMTranslationInterface_8h_source.html">mlir/Target/LLVMIR/LLVMTranslationInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeToLLVM_8h_source.html">mlir/Target/LLVMIR/TypeToLLVM.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/PostOrderIterator.h&quot;</code><br />
<code>#include &quot;llvm/ADT/SetVector.h&quot;</code><br />
<code>#include &quot;llvm/ADT/TypeSwitch.h&quot;</code><br />
<code>#include &quot;llvm/Frontend/OpenMP/OMPIRBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/BasicBlock.h&quot;</code><br />
<code>#include &quot;llvm/IR/CFG.h&quot;</code><br />
<code>#include &quot;llvm/IR/Constants.h&quot;</code><br />
<code>#include &quot;llvm/IR/DerivedTypes.h&quot;</code><br />
<code>#include &quot;llvm/IR/IRBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/InlineAsm.h&quot;</code><br />
<code>#include &quot;llvm/IR/IntrinsicsNVPTX.h&quot;</code><br />
<code>#include &quot;llvm/IR/LLVMContext.h&quot;</code><br />
<code>#include &quot;llvm/IR/MDBuilder.h&quot;</code><br />
<code>#include &quot;llvm/IR/Module.h&quot;</code><br />
<code>#include &quot;llvm/IR/Verifier.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/BasicBlockUtils.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/Cloning.h&quot;</code><br />
<code>#include &quot;llvm/Transforms/Utils/ModuleUtils.h&quot;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &quot;mlir/Dialect/LLVMIR/LLVMConversionEnumsToLLVM.inc&quot;</code><br />
</div>
<p><a href="ModuleTranslation_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1b744b251fb53242e803f9676a49eab"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1FailureOr.html">FailureOr</a>&lt; llvm::DataLayout &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#af1b744b251fb53242e803f9676a49eab">translateDataLayout</a> (DataLayoutSpecInterface attribute, const <a class="el" href="classmlir_1_1DataLayout.html">DataLayout</a> &amp;dataLayout, std::optional&lt; <a class="el" href="classmlir_1_1Location.html">Location</a> &gt; loc=std::nullopt)</td></tr>
<tr class="memdesc:af1b744b251fb53242e803f9676a49eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates the given data layout spec attribute to the LLVM IR data layout.  <a href="ModuleTranslation_8cpp.html#af1b744b251fb53242e803f9676a49eab">More...</a><br /></td></tr>
<tr class="separator:af1b744b251fb53242e803f9676a49eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecaa2da33c7498ed5b0027b24972374"><td class="memItemLeft" align="right" valign="top">static llvm::Constant *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#aeecaa2da33c7498ed5b0027b24972374">buildSequentialConstant</a> (<a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; llvm::Constant * &gt; &amp;constants, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt; shape, llvm::Type *type, <a class="el" href="classmlir_1_1Location.html">Location</a> loc)</td></tr>
<tr class="memdesc:aeecaa2da33c7498ed5b0027b24972374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a constant of a sequential LLVM type <code>type</code>, potentially containing other sequential types recursively, from the individual constant values provided in <code>constants</code>.  <a href="ModuleTranslation_8cpp.html#aeecaa2da33c7498ed5b0027b24972374">More...</a><br /></td></tr>
<tr class="separator:aeecaa2da33c7498ed5b0027b24972374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="memItemLeft" align="right" valign="top">static llvm::Type *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#aa4111e6ff5cf4f1d365791ce9c8e0317">getInnermostElementType</a> (llvm::Type *type)</td></tr>
<tr class="memdesc:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the first non-sequential type nested in sequential types.  <a href="ModuleTranslation_8cpp.html#aa4111e6ff5cf4f1d365791ce9c8e0317">More...</a><br /></td></tr>
<tr class="separator:aa4111e6ff5cf4f1d365791ce9c8e0317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a0bdbdbbc9cfc1248bbaf6fc7d3037"><td class="memItemLeft" align="right" valign="top">static llvm::Constant *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a22a0bdbdbbc9cfc1248bbaf6fc7d3037">convertDenseElementsAttr</a> (<a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1DenseElementsAttr.html">DenseElementsAttr</a> denseElementsAttr, llvm::Type *llvmType, const <a class="el" href="classmlir_1_1LLVM_1_1ModuleTranslation.html">ModuleTranslation</a> &amp;moduleTranslation)</td></tr>
<tr class="memdesc:a22a0bdbdbbc9cfc1248bbaf6fc7d3037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a dense elements attribute to an LLVM IR constant using its raw data storage if possible.  <a href="ModuleTranslation_8cpp.html#a22a0bdbdbbc9cfc1248bbaf6fc7d3037">More...</a><br /></td></tr>
<tr class="separator:a22a0bdbdbbc9cfc1248bbaf6fc7d3037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091473715bf4679f1f429f317067664c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a091473715bf4679f1f429f317067664c">getPHISourceValue</a> (<a class="el" href="classmlir_1_1Block.html">Block</a> *current, <a class="el" href="classmlir_1_1Block.html">Block</a> *pred, unsigned numArguments, unsigned index)</td></tr>
<tr class="memdesc:a091473715bf4679f1f429f317067664c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the SSA value passed to the current block from the terminator operation of its predecessor.  <a href="ModuleTranslation_8cpp.html#a091473715bf4679f1f429f317067664c">More...</a><br /></td></tr>
<tr class="separator:a091473715bf4679f1f429f317067664c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440bf5dd2d26cd43111c69164407e762"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Block.html">Block</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a440bf5dd2d26cd43111c69164407e762">getModuleBody</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *module)</td></tr>
<tr class="memdesc:a440bf5dd2d26cd43111c69164407e762"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to get the single Block in an operation honoring LLVM's module requirements.  <a href="ModuleTranslation_8cpp.html#a440bf5dd2d26cd43111c69164407e762">More...</a><br /></td></tr>
<tr class="separator:a440bf5dd2d26cd43111c69164407e762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a9ad47513b43b960b9cc840b6e1fdc4e1">shouldDropGlobalInitializer</a> (llvm::GlobalValue::LinkageTypes linkage, llvm::Constant *cst)</td></tr>
<tr class="memdesc:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper method to decide if a constant must not be set as a global variable initializer.  <a href="ModuleTranslation_8cpp.html#a9ad47513b43b960b9cc840b6e1fdc4e1">More...</a><br /></td></tr>
<tr class="separator:a9ad47513b43b960b9cc840b6e1fdc4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632d2064f862636b251e13dd7773cddc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a632d2064f862636b251e13dd7773cddc">addRuntimePreemptionSpecifier</a> (bool dsoLocalRequested, llvm::GlobalValue *gv)</td></tr>
<tr class="memdesc:a632d2064f862636b251e13dd7773cddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the runtime preemption specifier of <code>gv</code> to dso_local if <code>dsoLocalRequested</code> is true, otherwise it is left unchanged.  <a href="ModuleTranslation_8cpp.html#a632d2064f862636b251e13dd7773cddc">More...</a><br /></td></tr>
<tr class="separator:a632d2064f862636b251e13dd7773cddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dd84d365c4e04f975610b0d88ca301"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a75dd84d365c4e04f975610b0d88ca301">checkedAddLLVMFnAttribute</a> (<a class="el" href="classmlir_1_1Location.html">Location</a> loc, llvm::Function *llvmFunc, StringRef key, StringRef value=StringRef())</td></tr>
<tr class="memdesc:a75dd84d365c4e04f975610b0d88ca301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to add an attribute identified by <code>key</code>, optionally with the given <code>value</code> to LLVM function <code>llvmFunc</code>.  <a href="ModuleTranslation_8cpp.html#a75dd84d365c4e04f975610b0d88ca301">More...</a><br /></td></tr>
<tr class="separator:a75dd84d365c4e04f975610b0d88ca301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6c7afc0efb3d00381e516ec59fb5b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#adc6c7afc0efb3d00381e516ec59fb5b5">forwardPassthroughAttributes</a> (<a class="el" href="classmlir_1_1Location.html">Location</a> loc, std::optional&lt; ArrayAttr &gt; attributes, llvm::Function *llvmFunc)</td></tr>
<tr class="memdesc:adc6c7afc0efb3d00381e516ec59fb5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches the attributes listed in the given array attribute to <code>llvmFunc</code>.  <a href="ModuleTranslation_8cpp.html#adc6c7afc0efb3d00381e516ec59fb5b5">More...</a><br /></td></tr>
<tr class="separator:adc6c7afc0efb3d00381e516ec59fb5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ee44303d119ba9be46b99278df0090"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#a91ee44303d119ba9be46b99278df0090">convertFunctionAttributes</a> (LLVMFuncOp func, llvm::Function *llvmFunc)</td></tr>
<tr class="memdesc:a91ee44303d119ba9be46b99278df0090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the function attributes from LLVMFuncOp and attaches them to the llvm::Function.  <a href="ModuleTranslation_8cpp.html#a91ee44303d119ba9be46b99278df0090">More...</a><br /></td></tr>
<tr class="separator:a91ee44303d119ba9be46b99278df0090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97683e2f1d71cb0815811351c035d9c"><td class="memItemLeft" align="right" valign="top">static std::unique_ptr&lt; llvm::Module &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ModuleTranslation_8cpp.html#aa97683e2f1d71cb0815811351c035d9c">prepareLLVMModule</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *m, llvm::LLVMContext &amp;llvmContext, StringRef name)</td></tr>
<tr class="separator:aa97683e2f1d71cb0815811351c035d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a632d2064f862636b251e13dd7773cddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632d2064f862636b251e13dd7773cddc">&#9670;&nbsp;</a></span>addRuntimePreemptionSpecifier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addRuntimePreemptionSpecifier </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dsoLocalRequested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::GlobalValue *&#160;</td>
          <td class="paramname"><em>gv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the runtime preemption specifier of <code>gv</code> to dso_local if <code>dsoLocalRequested</code> is true, otherwise it is left unchanged. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00673">673</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

</div>
</div>
<a id="aeecaa2da33c7498ed5b0027b24972374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeecaa2da33c7498ed5b0027b24972374">&#9670;&nbsp;</a></span>buildSequentialConstant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static llvm::Constant* buildSequentialConstant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; llvm::Constant * &gt; &amp;&#160;</td>
          <td class="paramname"><em>constants</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Type *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a constant of a sequential LLVM type <code>type</code>, potentially containing other sequential types recursively, from the individual constant values provided in <code>constants</code>. </p>
<p><code>shape</code> contains the number of elements in nested sequential types. Reports errors at <code>loc</code> and returns nullptr on error. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00172">172</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00328">mlir::emitError()</a>, and <a class="el" href="BytecodeImplementation_8h_source.html#l00368">mlir::get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00227">convertDenseElementsAttr()</a>, and <a class="el" href="ModuleTranslation_8cpp_source.html#l00323">mlir::LLVM::detail::getLLVMConstant()</a>.</p>

</div>
</div>
<a id="a75dd84d365c4e04f975610b0d88ca301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dd84d365c4e04f975610b0d88ca301">&#9670;&nbsp;</a></span>checkedAddLLVMFnAttribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> checkedAddLLVMFnAttribute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Function *&#160;</td>
          <td class="paramname"><em>llvmFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>value</em> = <code>StringRef()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempts to add an attribute identified by <code>key</code>, optionally with the given <code>value</code> to LLVM function <code>llvmFunc</code>. </p>
<p>Reports errors at <code>loc</code> if any. If the attribute has a kind known to LLVM IR, create the attribute of this kind, otherwise keep it as a string attribute. Performs additional checks for attributes known to have or not have a value in order to avoid assertions inside LLVM upon construction. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00787">787</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00827">forwardPassthroughAttributes()</a>.</p>

</div>
</div>
<a id="a22a0bdbdbbc9cfc1248bbaf6fc7d3037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a0bdbdbbc9cfc1248bbaf6fc7d3037">&#9670;&nbsp;</a></span>convertDenseElementsAttr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static llvm::Constant* convertDenseElementsAttr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1DenseElementsAttr.html">DenseElementsAttr</a>&#160;</td>
          <td class="paramname"><em>denseElementsAttr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Type *&#160;</td>
          <td class="paramname"><em>llvmType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1LLVM_1_1ModuleTranslation.html">ModuleTranslation</a> &amp;&#160;</td>
          <td class="paramname"><em>moduleTranslation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a dense elements attribute to an LLVM IR constant using its raw data storage if possible. </p>
<p>This supports elements attributes of tensor or vector type and avoids constructing separate objects for individual values of the innermost dimension. Constants for other dimensions are still constructed recursively. Returns null if constructing from raw data is not supported for this type, e.g., element type is not a power-of-two-sized primitive. Reports other errors at <code>loc</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00227">227</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleTranslation_8cpp_source.html#l00172">buildSequentialConstant()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00207">getInnermostElementType()</a>, <a class="el" href="ModuleTranslation_8cpp_source.html#l00323">mlir::LLVM::detail::getLLVMConstant()</a>, <a class="el" href="IR_2BuiltinAttributes_8cpp_source.html#l01266">mlir::DenseElementsAttr::getNumElements()</a>, <a class="el" href="IR_2BuiltinAttributes_8cpp_source.html#l01195">mlir::DenseElementsAttr::getRawData()</a>, <a class="el" href="mlir_2IR_2BuiltinAttributes_8h_source.html#l00382">mlir::DenseElementsAttr::getSplatValue()</a>, <a class="el" href="IR_2BuiltinAttributes_8cpp_source.html#l01258">mlir::DenseElementsAttr::getType()</a>, and <a class="el" href="IR_2BuiltinAttributes_8cpp_source.html#l01151">mlir::DenseElementsAttr::isSplat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00323">mlir::LLVM::detail::getLLVMConstant()</a>.</p>

</div>
</div>
<a id="a91ee44303d119ba9be46b99278df0090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ee44303d119ba9be46b99278df0090">&#9670;&nbsp;</a></span>convertFunctionAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void convertFunctionAttributes </td>
          <td>(</td>
          <td class="paramtype">LLVMFuncOp&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Function *&#160;</td>
          <td class="paramname"><em>llvmFunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the function attributes from LLVMFuncOp and attaches them to the llvm::Function. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00919">919</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

</div>
</div>
<a id="adc6c7afc0efb3d00381e516ec59fb5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6c7afc0efb3d00381e516ec59fb5b5">&#9670;&nbsp;</a></span>forwardPassthroughAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmlir_1_1LogicalResult.html">LogicalResult</a> forwardPassthroughAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; ArrayAttr &gt;&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Function *&#160;</td>
          <td class="paramname"><em>llvmFunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attaches the attributes listed in the given array attribute to <code>llvmFunc</code>. </p>
<p>Reports error to <code>loc</code> if any and returns immediately. Expects <code>attributes</code> to be an array attribute containing either string attributes, treated as value-less LLVM attributes, or array attributes containing two string attributes, with the first string being the name of the corresponding LLVM attribute and the second string beings its value. Note that even integer attributes are expected to have their values expressed as strings. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00827">827</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="ModuleTranslation_8cpp_source.html#l00787">checkedAddLLVMFnAttribute()</a>, <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00328">mlir::emitError()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

</div>
</div>
<a id="aa4111e6ff5cf4f1d365791ce9c8e0317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4111e6ff5cf4f1d365791ce9c8e0317">&#9670;&nbsp;</a></span>getInnermostElementType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static llvm::Type* getInnermostElementType </td>
          <td>(</td>
          <td class="paramtype">llvm::Type *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the first non-sequential type nested in sequential types. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00207">207</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00227">convertDenseElementsAttr()</a>, and <a class="el" href="ModuleTranslation_8cpp_source.html#l00323">mlir::LLVM::detail::getLLVMConstant()</a>.</p>

</div>
</div>
<a id="a440bf5dd2d26cd43111c69164407e762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a440bf5dd2d26cd43111c69164407e762">&#9670;&nbsp;</a></span>getModuleBody()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Block.html">Block</a>&amp; getModuleBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A helper method to get the single Block in an operation honoring LLVM's module requirements. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00656">656</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Region_8h_source.html#l00065">mlir::Region::front()</a>, and <a class="el" href="IR_2Operation_8h_source.html#l00648">mlir::Operation::getRegion()</a>.</p>

</div>
</div>
<a id="a091473715bf4679f1f429f317067664c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091473715bf4679f1f429f317067664c">&#9670;&nbsp;</a></span>getPHISourceValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> getPHISourceValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Block.html">Block</a> *&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Block.html">Block</a> *&#160;</td>
          <td class="paramname"><em>pred</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>numArguments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the SSA value passed to the current block from the terminator operation of its predecessor. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00485">485</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="ControlFlowInterfaces_8h_source.html#l00061">mlir::SuccessorOperands::empty()</a>, <a class="el" href="Matchers_8h_source.html#l00262">mlir::detail::enumerate()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00668">mlir::Operation::getNumSuccessors()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00345">mlir::Operation::getOperand()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00670">mlir::Operation::getSuccessor()</a>, and <a class="el" href="Block_8cpp_source.html#l00232">mlir::Block::getTerminator()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ModuleTranslation_8cpp_source.html#l00536">mlir::LLVM::detail::connectPHINodes()</a>.</p>

</div>
</div>
<a id="aa97683e2f1d71cb0815811351c035d9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97683e2f1d71cb0815811351c035d9c">&#9670;&nbsp;</a></span>prepareLLVMModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::unique_ptr&lt;llvm::Module&gt; prepareLLVMModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::LLVMContext &amp;&#160;</td>
          <td class="paramname"><em>llvmContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l01296">1296</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00495">mlir::Operation::getAttr()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00216">mlir::Operation::getContext()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00223">mlir::Operation::getLoc()</a>, <a class="el" href="MLIRContext_8h_source.html#l00097">mlir::MLIRContext::getOrLoadDialect()</a>, <a class="el" href="MathExtras_8h_source.html#l00045">mlir::mod()</a>, and <a class="el" href="DataLayoutImporter_8cpp_source.html#l00309">mlir::translateDataLayout()</a>.</p>

</div>
</div>
<a id="a9ad47513b43b960b9cc840b6e1fdc4e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad47513b43b960b9cc840b6e1fdc4e1">&#9670;&nbsp;</a></span>shouldDropGlobalInitializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool shouldDropGlobalInitializer </td>
          <td>(</td>
          <td class="paramtype">llvm::GlobalValue::LinkageTypes&#160;</td>
          <td class="paramname"><em>linkage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llvm::Constant *&#160;</td>
          <td class="paramname"><em>cst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A helper method to decide if a constant must not be set as a global variable initializer. </p>
<p>For an external linkage variable, the variable with an initializer is considered externally visible and defined in this module, the variable without an initializer is externally available and is defined elsewhere. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00665">665</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

</div>
</div>
<a id="af1b744b251fb53242e803f9676a49eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b744b251fb53242e803f9676a49eab">&#9670;&nbsp;</a></span>translateDataLayout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1FailureOr.html">FailureOr</a>&lt;llvm::DataLayout&gt; translateDataLayout </td>
          <td>(</td>
          <td class="paramtype">DataLayoutSpecInterface&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1DataLayout.html">DataLayout</a> &amp;&#160;</td>
          <td class="paramname"><em>dataLayout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="classmlir_1_1Location.html">Location</a> &gt;&#160;</td>
          <td class="paramname"><em>loc</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translates the given data layout spec attribute to the LLVM IR data layout. </p>
<p>Only integer, float, pointer and endianness entries are currently supported. </p>

<p class="definition">Definition at line <a class="el" href="ModuleTranslation_8cpp_source.html#l00062">62</a> of file <a class="el" href="ModuleTranslation_8cpp_source.html">ModuleTranslation.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Diagnostics_8cpp_source.html#l00328">mlir::emitError()</a>, <a class="el" href="LLVMTypes_8cpp_source.html#l00267">mlir::LLVM::extractPointerSpecValue()</a>, <a class="el" href="LogicalResult_8h_source.html#l00072">mlir::failed()</a>, <a class="el" href="LogicalResult_8h_source.html#l00062">mlir::failure()</a>, <a class="el" href="BytecodeImplementation_8h_source.html#l00368">mlir::get()</a>, <a class="el" href="DataLayoutInterfaces_8cpp_source.html#l00460">mlir::DataLayout::getTypeABIAlignment()</a>, <a class="el" href="DataLayoutInterfaces_8cpp_source.html#l00472">mlir::DataLayout::getTypePreferredAlignment()</a>, <a class="el" href="DataLayoutInterfaces_8cpp_source.html#l00448">mlir::DataLayout::getTypeSizeInBits()</a>, <a class="el" href="namespacemlir_1_1LLVM.html#a8019ae41750afc63c5ea6cd99039f3dea88fa71f0a6e0dfedbb46d91cc0b37a50">mlir::LLVM::Index</a>, and <a class="el" href="LogicalResult_8h_source.html#l00056">mlir::success()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 4 2023 20:34:09 for MLIR by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
